                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : FreeWare ANSI-C Compiler
                              3 ; Version 2.3.1 Mon Jan 15 17:17:38 2018
                              4 
                              5 ;--------------------------------------------------------
                              6 	.module tolower
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl _tolower
                             12 ;--------------------------------------------------------
                             13 ; special function registers
                             14 ;--------------------------------------------------------
                             15 ;--------------------------------------------------------
                             16 ; special function bits 
                             17 ;--------------------------------------------------------
                             18 ;--------------------------------------------------------
                             19 ; internal ram data
                             20 ;--------------------------------------------------------
                             21 	.area _DATA
                             22 ;--------------------------------------------------------
                             23 ; overlayable items in internal ram 
                             24 ;--------------------------------------------------------
                             25 	.area _OVERLAY
                             26 ;--------------------------------------------------------
                             27 ; indirectly addressable internal ram data
                             28 ;--------------------------------------------------------
                             29 	.area _ISEG
                             30 ;--------------------------------------------------------
                             31 ; bit data
                             32 ;--------------------------------------------------------
                             33 	.area _BSEG
                             34 ;--------------------------------------------------------
                             35 ; external ram data
                             36 ;--------------------------------------------------------
                             37 	.area _XSEG
                             38 ;--------------------------------------------------------
                             39 ; global & static initialisations
                             40 ;--------------------------------------------------------
                             41 	.area _GSINIT
                             42 	.area _GSFINAL
                             43 	.area _GSINIT
                             44 ;--------------------------------------------------------
                             45 ; Home
                             46 ;--------------------------------------------------------
                             47 	.area _HOME
                             48 	.area _CODE
                             49 ;--------------------------------------------------------
                             50 ; code
                             51 ;--------------------------------------------------------
                             52 	.area _CODE
                             53 ;	tolower.c 3
                             54 ;	genLabel
                             55 ;	genFunction
                             56 ;	---------------------------------
                             57 ; Function tolower
                             58 ; ---------------------------------
   0000                      59 ___tolower_start:
   0000                      60 _tolower:
                             61 	
                             62 ;	tolower.c 5
                             63 ;	genCmpLt
                             64 ;	AOP_STK for 
   0000 F8 02                65 	lda	hl,2(sp)
   0002 7E                   66 	ld	a,(hl)
   0003 EE 80                67 	xor	a,#0x80
   0005 FE C1                68 	cp	#0x41^0x80
   0007 3E 00                69 	ld	a,#0x00
   0009 17                   70 	rla
   000A 4F                   71 	ld	c,a
                             72 ;	genNot
   000B AF                   73 	xor	a,a
   000C B1                   74 	or	a,c
   000D D6 01                75 	sub	a,#0x01
   000F 3E 00                76 	ld	a,#0x00
   0011 17                   77 	rla
   0012 4F                   78 	ld	c,a
                             79 ;	genCmpGt
                             80 ;	AOP_STK for 
   0013 1E DA                81 	ld	e,#0xDA
   0015 7E                   82 	ld	a,(hl)
   0016 EE 80                83 	xor	a,#0x80
   0018 57                   84 	ld	d,a
   0019 7B                   85 	ld	a,e
   001A 92                   86 	sub	a,d
   001B 3E 00                87 	ld	a,#0x00
   001D 17                   88 	rla
   001E 47                   89 	ld	b,a
                             90 ;	genNot
   001F AF                   91 	xor	a,a
   0020 B0                   92 	or	a,b
   0021 D6 01                93 	sub	a,#0x01
   0023 3E 00                94 	ld	a,#0x00
   0025 17                   95 	rla
   0026 47                   96 	ld	b,a
                             97 ;	genAndOp
   0027 AF                   98 	xor	a,a
   0028 B1                   99 	or	a,c
   0029 28 02               100 	jr	z,00106$
   002B AF                  101 	xor	a,a
   002C B0                  102 	or	a,b
   002D                     103 00106$:
   002D 28 02               104 	jr	z,00107$
   002F 3E 01               105 	ld	a,#0x01
   0031                     106 00107$:
   0031 4F                  107 	ld	c,a
                            108 ;	genIfx
   0032 AF                  109 	xor	a,a
   0033 B1                  110 	or	a,c
   0034 CAr40s00            111 	jp	z,00103$
                            112 ;	genPlus
                            113 ;	AOP_STK for 
                            114 ;	genPlusIncr
                            115 ;	Can't optimise plus by inc, falling back to the normal way
   0037 F8 02               116 	lda	hl,2(sp)
   0039 7E                  117 	ld	a,(hl)
   003A C6 20               118 	add	a,#0x20
   003C 4F                  119 	ld	c,a
                            120 ;	genGoto
   003D C3r43s00            121 	jp	00104$
                            122 ;	genLabel
   0040                     123 00103$:
                            124 ;	genAssign
                            125 ;	AOP_STK for 
   0040 F8 02               126 	lda	hl,2(sp)
   0042 4E                  127 	ld	c,(hl)
                            128 ;	genLabel
   0043                     129 00104$:
                            130 ;	genRet
   0043 59                  131 	ld	e,c
                            132 ;	genLabel
   0044                     133 00101$:
                            134 ;	genEndFunction
                            135 	
   0044 C9                  136 	ret
   0045                     137 ___tolower_end:
                            138 	.area _CODE
